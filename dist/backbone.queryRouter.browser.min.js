!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(a){!function(d){"use strict";function e(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}function f(a,b){Object.defineProperty(this,"kind",{value:a,enumerable:!0}),b&&b.length&&Object.defineProperty(this,"path",{value:b,enumerable:!0})}function g(a,b,c){g.super_.call(this,"E",a),Object.defineProperty(this,"lhs",{value:b,enumerable:!0}),Object.defineProperty(this,"rhs",{value:c,enumerable:!0})}function h(a,b){h.super_.call(this,"N",a),Object.defineProperty(this,"rhs",{value:b,enumerable:!0})}function i(a,b){i.super_.call(this,"D",a),Object.defineProperty(this,"lhs",{value:b,enumerable:!0})}function j(a,b,c){j.super_.call(this,"A",a),Object.defineProperty(this,"index",{value:b,enumerable:!0}),Object.defineProperty(this,"item",{value:c,enumerable:!0})}function k(a,b,c){var d=a.slice((c||b)+1||a.length);return a.length=0>b?a.length+b:b,a.push.apply(a,d),a}function l(a,b,c,e,f,m){e=e||[];var n=e.slice(0);f&&n.push(f);var o=typeof a,p=typeof b;if("undefined"===o)"undefined"!==p&&c(new h(n,b));else if("undefined"===p)c(new i(n,a));else if(o!==p)c(new g(n,a,b));else if(a instanceof Date&&b instanceof Date&&a-b!=0)c(new g(n,a,b));else if("object"===o&&null!=a&&null!=b){if(m=m||[],m.indexOf(a)<0){if(m.push(a),Array.isArray(a)){var q,r=(a.length,function(a){c(new j(n,q,a))});for(q=0;q<a.length;q++)q>=b.length?c(new j(n,q,new i(d,a[q]))):l(a[q],b[q],r,[],null,m);for(;q<b.length;)c(new j(n,q,new h(d,b[q++])))}else{var s=Object.keys(a),t=Object.keys(b);s.forEach(function(e){var f=t.indexOf(e);f>=0?(l(a[e],b[e],c,n,e,m),t=k(t,f)):l(a[e],d,c,n,e,m)}),t.forEach(function(a){l(d,b[a],c,n,a,m)})}m.length=m.length-1}}else a!==b&&c(new g(n,a,b))}function m(a,b,c){return c=c||[],l(a,b,function(a){a&&c.push(a)}),c.length?c:d}function n(a,b,c){if(c.path&&c.path.length){var d,e=a[b],f=c.path.length-1;for(d=0;f>d;d++)e=e[c.path[d]];switch(c.kind){case"A":n(e,c.index,c.item);break;case"D":delete e[c.path[d]];break;case"E":case"N":e[c.path[d]]=c.rhs}}else switch(c.kind){case"A":n(a[b],c.index,c.item);break;case"D":a=k(a,b);break;case"E":case"N":a[b]=c.rhs}return a}function o(a,b,c){if(!(c instanceof f))throw new TypeError("[Object] change must be instanceof Diff");if(a&&b&&c){var d,e,g=a;for(e=c.path.length-1,d=0;e>d;d++)"undefined"==typeof g[c.path[d]]&&(g[c.path[d]]={}),g=g[c.path[d]];switch(c.kind){case"A":n(g[c.path[d]],c.index,c.item);break;case"D":delete g[c.path[d]];break;case"E":case"N":g[c.path[d]]=c.rhs}}}function p(a,b,c){if(a&&b){var d=function(d){(!c||c(a,b,d))&&o(a,b,d)};l(a,b,d)}}var q,r,s=[];q="object"==typeof a&&a?a:"undefined"!=typeof window?window:{},r=q.DeepDiff,r&&s.push(function(){"undefined"!=typeof r&&q.DeepDiff===m&&(q.DeepDiff=r,r=d)}),e(g,f),e(h,f),e(i,f),e(j,f),Object.defineProperties(m,{diff:{value:m,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:p,enumerable:!0},applyChange:{value:o,enumerable:!0},isConflict:{get:function(){return"undefined"!=typeof r},enumerable:!0},noConflict:{value:function(){return s&&(s.forEach(function(a){a()}),s=null),m},enumerable:!0}}),"undefined"!=typeof b&&b&&"object"==typeof c&&c&&b.exports===c?b.exports=m:q.DeepDiff=m}()}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(a,b){"use strict";function c(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,e,f){b=b||"&",e=e||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;j>k;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(e);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),c(g,n)?d(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],3:[function(a,b){"use strict";function c(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var d=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,g,h){return b=b||"&",g=g||"=",null===a&&(a=void 0),"object"==typeof a?c(f(a),function(c){var f=encodeURIComponent(d(c))+g;return e(a[c])?a[c].map(function(a){return f+encodeURIComponent(d(a))}).join(b):f+encodeURIComponent(d(a[c]))}).join(b):h?encodeURIComponent(d(h))+g+encodeURIComponent(d(a)):""};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},f=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],4:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":2,"./encode":3}],5:[function(a){"use strict";var b=a("backbone"),c=a("underscore"),d=a("querystring"),e=a("deep-diff"),f=b.History.extend({queryMatcher:/^([^?]*?)(?:\?([\s\S]*))?$/,query:new b.Model,loadQuery:function(a){this.previousQuery||(this.previousQuery={});var b=this._fragmentToQueryObject(a),d=this.previousQuery;this.previousQuery=b;var e=this._getDiffs(d,b);e.length&&c.each(this.queryHandlers,function(b){c.union(e,b.bindings).length&&b.callback(a)})},loadUrl:function(){var a=b.History.prototype.loadUrl.apply(this,arguments);return a||this.trigger("routeNotFound",arguments),a},navigate:function(a,c){c||(c={}),this.trigger("beforeNavigate",a,c),c.trigger&&this.loadQuery(a,c),c.forceTrigger&&b.history.fragment===a&&b.History.started?this.loadUrl(a):b.History.prototype.navigate.call(b.history,a,c),this.trigger("afterNavigate",a,c)},queryHandler:function(a,b){this.queryHandlers||(this.queryHandlers=[]),this.queryHandlers.push({bindings:a,callback:b})},_getDiffs:function(a,b){var d=e(a,b),f=c.reduce(d,function(a,b){var d=c.map(b.path,function(a,d){return c.first(b.path,d+1).join(".")});return a.concat(d)},[]);return c.uniq(f)},_fragmentToQueryObject:function(a){if(!a)return{};var b=a.match(this.queryMatcher);if(!(b.length<3)){var c=b[2]||"";return d.parse(c)}}}),g=b.Router.extend({});b.Router=g,b.history=new f},{backbone:!1,"deep-diff":1,querystring:4,underscore:!1}]},{},[5]);